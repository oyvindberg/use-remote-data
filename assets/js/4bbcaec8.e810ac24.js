(self.webpackChunksite=self.webpackChunksite||[]).push([[4],{8005:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return o}});var r=n(7294),a=n(1731);var o=function(){var e=(0,a.WV)((function(){return e=1,void 0===t&&(t=1e3),new Promise((function(n){return setTimeout((function(){return n(e)}),t)}));var e,t}));return r.createElement(a.mJ,{store:e},(function(e){return r.createElement("span",null,e)}))}},7934:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return i}});var r=n(7294),a=n(1731);function o(e,t){return void 0===t&&(t=1e3),new Promise((function(n){return setTimeout((function(){return n(e)}),t)}))}var i=function(){var e=(0,a.WV)((function(){return o(1)})),t=(0,a.WV)((function(){return o("Hello")})),n=a.lq.all(e,t);return r.createElement(a.mJ,{store:n},(function(e){var t=e[0],n=e[1];return r.createElement("span",null,t.toPrecision(1)," and ",n.trimLeft())}))}},4872:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return u}});var r=n(7294),a=n(1731),o=0,i=function(){return new Promise((function(e){o+=1,setTimeout((function(){return e(o)}),1e3)}))},l=0,s=function(){return new Promise((function(e,t){(l+=1)%10==0?t(l+" was dividable by 10"):e(l)}))},u=function(){var e=(0,a.WV)(i,{ttlMillis:1e3}),t=(0,a.WV)(s,{ttlMillis:100});return r.createElement(a.mJ,{store:a.lq.all(e,t)},(function(e){var t=e[0],n=e[1];return r.createElement("span",null,t," - ",n)}))}},7172:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return l}});var r=n(7294),a=n(1731),o=0,i=function(){return new Promise((function(e){o+=1,setTimeout((function(){return e(o)}),1e3)}))},l=function(){var e=(0,a.WV)(i,{ttlMillis:2e3});return r.createElement(a.mJ,{store:e},(function(e,t){return r.createElement("span",{style:{color:t?"darkgray":"black"}},e)}))}},3426:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return l},Child:function(){return s}});var r=n(7294),a=n(1731),o=0,i=function(){return new Promise((function(e){o+=1,setTimeout((function(){return e(o)}),1e3)}))},l=function(){var e=(0,a.WV)(i,{ttlMillis:2e3});return r.createElement("div",null,r.createElement(s,{store:e}),r.createElement(s,{store:e}))},s=function(e){var t=e.store;return r.createElement(a.mJ,{store:t},(function(e,t){return r.createElement("p",null,r.createElement("span",{style:{color:t?"darkgray":"black"}},e))}))}},5561:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(7294),a=n(986),o=n(7499),i=n(6742),l=n(2026),s="//START\n",u=function(e){var t=e.snippet,a=(0,l.Z)().isDarkTheme?n(9452).Z:n(4146).Z,u=n(5362)("./"+t+".tsx").default,c=u.indexOf(s),m=-1===c?u:u.substring(c+s.length),d=n(2523)("./"+t).Component,p=r.useState(0),h=p[0],f=p[1];return r.createElement("div",null,r.createElement("div",null,r.createElement("div",null,r.createElement(i.Z,{className:"button button--secondary button--sm",onClick:function(){return f(h+1)}},0===h?"Run snippet":"Run again")),h>0&&r.createElement(d,{key:h})),r.createElement(o.Z,{language:"typescript",style:a},m))},c=function(){return r.createElement(a.Z,{title:"Getting started",description:"Getting started"},r.createElement("main",{className:"container"},r.createElement("h1",null,"Getting started"),r.createElement("div",null,r.createElement("h2",null,"Installation"),r.createElement("pre",null,r.createElement("code",null,"yarn add use-remote-data"))),r.createElement("br",null),r.createElement("div",null,r.createElement("h2",null,"Basic usage"),"The entry point to the library is a React hook called ",r.createElement("code",null,"useRemoteData"),", which takes one parameter: A function which produces a ",r.createElement("code",null,"Promise"),". It needs to be a function and not a straight ",r.createElement("code",null,"Promise"),"in case it fails and needs to be restarted.",r.createElement("br",null),r.createElement("br",null),"According to the rules for React hooks they can only be used within a component, as seen below.",r.createElement("br",null),r.createElement("br",null),"The thing we get back is a ",r.createElement("code",null,"RemoteDataStore","<T>"),", which is where we keep the state the request is currently in.",r.createElement("br",null),r.createElement("br",null),"The last thing which happens in this example is that we use a provided React component called"," ",r.createElement("code",null,"WithRemoteData"),". This component requires two props:",r.createElement("ul",null,r.createElement("li",null,"the store we got from ",r.createElement("code",null,"useRemoteData")),r.createElement("li",null,"a ",r.createElement(i.Z,{to:"https://reactjs.org/docs/render-props.html"},"render prop "),"which specifies how to render once we have all the data we asked for by passing stores")),"Out of the box this component renders dots when waiting for data. Expected usage is that you copy/paste it into your codebase and adjust the rendering to suit your needs",r.createElement(u,{snippet:"basic_usage"})),r.createElement("br",null),r.createElement("div",null,r.createElement("h2",null,"Combining stores"),"The ",r.createElement("code",null,"RemoteDataStore")," structure is composable in the sense that you can combine multiple stores into one which will return the product of all once all the data is available. The semantics are what you would expect. For instance if you combine one request which is currently"," ",r.createElement("code",null,"RemoteData.Pending"),"with one which is ",r.createElement("code",null,"RemoteData.Yes"),", the result will be ",r.createElement("code",null,"RemoteData.Pending"),".",r.createElement("br",null),r.createElement("br",null),"You can see in the snippet that it keeps track of types, and that in the render prop given to ",r.createElement("code",null,"WithRemoteData")," we use ",r.createElement(i.Z,{to:"https://levelup.gitconnected.com/crazy-powerful-typescript-tuple-types-9b121e0a690c"},"tuple destructuring "),"to pick apart the values again.",r.createElement("br",null),r.createElement("br",null),r.createElement(u,{snippet:"combine"})),r.createElement("div",null,r.createElement("h2",null,"Refreshing data"),r.createElement(u,{snippet:"invalidation"})),r.createElement("div",null,r.createElement("h2",null,"Requesting data in child components"),r.createElement(u,{snippet:"use_twice"})),r.createElement("div",null,r.createElement("h2",null,"Handling failure"),r.createElement(u,{snippet:"handling_failure"}))))}},208:function(e,t,n){"use strict";n.r(t),t.default='// all examples use these imports\nimport * as React from "react";\nimport { RemoteData, RemoteDataStore, useRemoteData, WithRemoteData } from "use-remote-data";\n\n// we\'ll use this example throughout. obviously you would typically call an API\nfunction produce<T>(value: T, delay: number = 1000): Promise<T> {\n  return new Promise((resolve) => setTimeout(() => resolve(value), delay));\n}\n\nexport const Component: React.FC = () => {\n  const computeOne: RemoteDataStore<number> =\n    useRemoteData(() => produce(1));\n\n  return <WithRemoteData store={computeOne}>\n      {(num: number) => <span>{num}</span>}\n    </WithRemoteData>;\n};\n'},407:function(e,t,n){"use strict";n.r(t),t.default="import * as React from 'react';\nimport { RemoteDataStore, useRemoteData, WithRemoteData } from 'use-remote-data';\n\n// we'll use this example throughout. obviously you would typically call an API\nfunction produce<T>(value: T, delay: number = 1000): Promise<T> {\n    return new Promise((resolve) => setTimeout(() => resolve(value), delay));\n}\n\n//START\nexport const Component: React.FC = () => {\n    const computeOne = useRemoteData(() => produce(1));\n    const computeString = useRemoteData(() => produce('Hello'));\n\n    // combine stores into one, which will produce a tuple with all values once they are available\n    const combinedStore: RemoteDataStore<[number, string]> =\n      RemoteDataStore.all(computeOne, computeString);\n\n    return <WithRemoteData store={combinedStore}>\n            {([num, string]) => <span>{num.toPrecision(1)} and {string.trimLeft()}</span>}\n        </WithRemoteData>;\n};\n"},4598:function(e,t,n){"use strict";n.r(t),t.default="import * as React from 'react';\nimport { RemoteDataStore, useRemoteData, WithRemoteData } from 'use-remote-data';\n\nvar i = 0;\nconst freshData = (): Promise<number> =>\n    new Promise((resolve) => {\n        i += 1;\n        setTimeout(() => resolve(i), 1000);\n    });\n\n//START\nvar j = 0;\nconst failSometimes = (): Promise<number> =>\n    new Promise((resolve, reject) => {\n        j += 1;\n        if (j % 10 === 0) reject(`${j} was dividable by 10`);\n        else resolve(j);\n    });\n\nexport const Component: React.FC = () => {\n    const one = useRemoteData(freshData, { ttlMillis: 1000 });\n    const two = useRemoteData(failSometimes, { ttlMillis: 100 });\n\n    return <WithRemoteData store={RemoteDataStore.all(one, two)}>\n            {([num1, num2]) => <span>{num1} - {num2}</span>}\n        </WithRemoteData>;\n};\n"},5136:function(e,t,n){"use strict";n.r(t),t.default="import * as React from 'react';\nimport { RemoteDataStore, useRemoteData, WithRemoteData } from 'use-remote-data';\n\n//START\nvar i = 0;\nconst freshData = (): Promise<number> =>\n    new Promise((resolve) => {\n        i += 1;\n        setTimeout(() => resolve(i), 1000);\n    });\n\nexport const Component: React.FC = () => {\n    const store = useRemoteData(freshData, { ttlMillis: 2000 });\n\n    return (\n        <WithRemoteData store={store}>\n            {(num, isInvalidated) =>\n              <span style={{ color: isInvalidated ? 'darkgray' : 'black' }}>{num}</span>\n            }\n        </WithRemoteData>\n    );\n};\n"},5735:function(e,t,n){"use strict";n.r(t),t.default="import * as React from 'react';\nimport { RemoteDataStore, useRemoteData, WithRemoteData } from 'use-remote-data';\n\nvar i = 0;\nconst freshData = (): Promise<number> =>\n    new Promise((resolve) => {\n        i += 1;\n        setTimeout(() => resolve(i), 1000);\n    });\n\n//START\nexport const Component: React.FC = () => {\n    const store = useRemoteData(freshData, { ttlMillis: 2000 });\n\n    return (\n        <div>\n            <Child store={store} />\n            <Child store={store} />\n        </div>\n    );\n};\n\nexport const Child: React.FC<{ store: RemoteDataStore<number> }> = ({ store }) => (\n    <WithRemoteData store={store}>\n        {(num, isInvalidated) =>\n          <p><span style={{ color: isInvalidated ? 'darkgray' : 'black' }}>{num}</span></p>\n        }\n    </WithRemoteData>\n);\n"},7459:function(e){"use strict";e.exports={printWidth:82}},5362:function(e,t,n){var r={"./basic_usage.tsx":208,"./combine.tsx":407,"./handling_failure.tsx":4598,"./invalidation.tsx":5136,"./use_twice.tsx":5735};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=5362},2523:function(e,t,n){var r={"./_.prettierrc":7459,"./_.prettierrc.json":7459,"./basic_usage":8005,"./basic_usage.tsx":8005,"./combine":7934,"./combine.tsx":7934,"./handling_failure":4872,"./handling_failure.tsx":4872,"./invalidation":7172,"./invalidation.tsx":7172,"./use_twice":3426,"./use_twice.tsx":3426};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=2523}}]);