"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[21],{6051:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>a,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"combining-stores","title":"Combining Stores","description":"One of the library\u2019s most powerful patterns is combining multiple requests.","source":"@site/docs/combining-stores.mdx","sourceDirName":".","slug":"/combining-stores","permalink":"/use-remote-data/docs/combining-stores","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/edit/master/website/docs/combining-stores.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Invalidation / Refresh data","permalink":"/use-remote-data/docs/invalidation"},"next":{"title":"Failures and Retries","permalink":"/use-remote-data/docs/failures-retries"}}');var i=t(4848),r=t(8453),o=t(8794),l=t(7879);const a={},c="Combining Stores",d={},h=[{value:"A Note on TypeScript Tooling",id:"a-note-on-typescript-tooling",level:4}];function u(e){const s={a:"a",code:"code",em:"em",h1:"h1",h4:"h4",header:"header",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"combining-stores",children:"Combining Stores"})}),"\n",(0,i.jsxs)(s.p,{children:["One of the library\u2019s most powerful patterns is combining multiple requests.\nIf you have two or more ",(0,i.jsx)(s.code,{children:"RemoteDataStore"}),"s,\nyou can merge them into a single store that represents all requests in flight.\nThis is done via ",(0,i.jsx)(s.code,{children:"RemoteDataStore.all(...)"}),":"]}),"\n",(0,i.jsxs)(s.p,{children:["Under the hood, the combined store uses the ",(0,i.jsx)(s.code,{children:"RemoteData.all(...)"})," function, which:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Returns ",(0,i.jsx)(s.code,{children:"No"})," if ",(0,i.jsx)(s.em,{children:"any"})," store fails. A single \u201cretry\u201d will only re-fetch the failing requests."]}),"\n",(0,i.jsxs)(s.li,{children:["Returns ",(0,i.jsx)(s.code,{children:"Pending"})," if ",(0,i.jsx)(s.em,{children:"any"})," constituent store is ",(0,i.jsx)(s.code,{children:"Pending"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["Returns ",(0,i.jsx)(s.code,{children:"Yes"})," with a tuple of all combined values if ",(0,i.jsx)(s.em,{children:"all"})," succeed."]}),"\n",(0,i.jsx)(s.li,{children:"Manages invalidation states if any store becomes invalidated."}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["In a render prop, you can\n",(0,i.jsx)(s.a,{href:"https://levelup.gitconnected.com/crazy-powerful-typescript-tuple-types-9b121e0a690c",children:"destructure"}),"\nthe results."]}),"\n",(0,i.jsx)(o.Y,{snippet:"combine"}),"\n",(0,i.jsx)(s.h4,{id:"a-note-on-typescript-tooling",children:"A Note on TypeScript Tooling"}),"\n",(0,i.jsxs)(s.p,{children:["The TypeScript compiler (and IDEs) fully understands these combined stores.\nYou can hover over the tuple items (often with ",(0,i.jsx)("kbd",{children:"Ctrl"})," or ",(0,i.jsx)("kbd",{children:"Command"}),") to see precise type information."]}),"\n",(0,i.jsx)("video",{autoPlay:!0,controls:!0,muted:!0,style:{maxWidth:"100%"},src:l.A})]})}function m(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},7879:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/medias/typesafe-combine-37a96b8d5a32a72484882b73e60806db.webm"}}]);