<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.1">
<title data-react-helmet="true">Getting started | use-remote-data</title><meta data-react-helmet="true" property="og:title" content="Getting started | use-remote-data"><meta data-react-helmet="true" name="description" content="Getting started"><meta data-react-helmet="true" property="og:description" content="Getting started"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/use-remote-data/intro"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/use-remote-data/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/use-remote-data/intro"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/use-remote-data/intro" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/use-remote-data/intro" hreflang="x-default"><link rel="stylesheet" href="/use-remote-data/assets/css/styles.921d978f.css">
<link rel="preload" href="/use-remote-data/assets/js/runtime~main.4c566a5b.js" as="script">
<link rel="preload" href="/use-remote-data/assets/js/main.ee9f7e7e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP shadow--md">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/use-remote-data/"><img src="/use-remote-data/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/use-remote-data/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">use-remote-data</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/use-remote-data/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/oyvindberg/use-remote-data" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/use-remote-data/"><img src="/use-remote-data/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/use-remote-data/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">use-remote-data</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/use-remote-data/intro">Tutorial</a></li><li class="menu__list-item"><a href="https://github.com/oyvindberg/use-remote-data" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper"><main><div>Here you can see the most basic usage of `useRemoteData`. We setup a store which wraps an arbitrary `Promise`<div><h2>Basic usage</h2><div><div><button>Run</button></div></div><pre style="display:block;overflow-x:auto;padding:0.5em;color:#2f3337;background:#f6f6f6"><code class="language-typescript" style="white-space:pre"><span style="color:#656e77">// all examples use these imports</span><span>
</span><span></span><span style="color:#015692">import</span><span> * </span><span style="color:#015692">as</span><span> React </span><span style="color:#015692">from</span><span> </span><span style="color:#54790d">&quot;react&quot;</span><span>;
</span><span></span><span style="color:#015692">import</span><span> { RemoteData, RemoteDataStore, useRemoteData, WithRemoteData } </span><span style="color:#015692">from</span><span> </span><span style="color:#54790d">&quot;use-remote-data&quot;</span><span>;
</span>
<span></span><span style="color:#656e77">// we&#x27;ll use this example throughout. obviously you would typically call an API</span><span>
</span><span></span><span class="hljs-function" style="color:#015692">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#b75501">produce</span><span class="hljs-function">&lt;</span><span class="hljs-function" style="color:#b75501">T</span><span class="hljs-function">&gt;(</span><span class="hljs-function hljs-params">value: T, delay: </span><span class="hljs-function hljs-params" style="color:#b75501">number</span><span class="hljs-function hljs-params"> = </span><span class="hljs-function hljs-params" style="color:#b75501">1000</span><span class="hljs-function">): </span><span class="hljs-function" style="color:#b75501">Promise</span><span class="hljs-function">&lt;</span><span class="hljs-function" style="color:#b75501">T</span><span class="hljs-function">&gt; </span><span>{
</span><span>  </span><span style="color:#015692">return</span><span> </span><span style="color:#015692">new</span><span> </span><span style="color:#b75501">Promise</span><span>(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">resolve</span><span class="hljs-function">) =&gt;</span><span> </span><span style="color:#b75501">setTimeout</span><span>(</span><span class="hljs-function">() =&gt;</span><span> resolve(value), delay));
</span>}

<span></span><span style="color:#015692">export</span><span> </span><span style="color:#015692">const</span><span> Component: React.FC = </span><span class="hljs-function">() =&gt;</span><span> {
</span><span>  </span><span style="color:#015692">const</span><span> computeOne: RemoteDataStore&lt;</span><span style="color:#b75501">number</span><span>&gt; =
</span><span>    useRemoteData(</span><span class="hljs-function">() =&gt;</span><span> produce(</span><span style="color:#b75501">1</span><span>));
</span>
<span>  </span><span style="color:#015692">return</span><span> </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">WithRemoteData</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">store</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#54790d">{computeOne}</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">      {(num: number) =&gt; </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">span</span><span class="xml hljs-tag">&gt;</span><span class="xml">{num}</span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">span</span><span class="xml hljs-tag">&gt;</span><span class="xml">}
</span><span class="xml">    </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">WithRemoteData</span><span class="xml hljs-tag">&gt;</span><span>;
</span>};

</code></pre></div></div><div><div><h2>Combining two stores</h2><div><div><button>Run</button></div></div><pre style="display:block;overflow-x:auto;padding:0.5em;color:#2f3337;background:#f6f6f6"><code class="language-typescript" style="white-space:pre"><span style="color:#015692">export</span><span> </span><span style="color:#015692">const</span><span> Component: React.FC = </span><span class="hljs-function">() =&gt;</span><span> {
</span><span>    </span><span style="color:#015692">const</span><span> computeOne = useRemoteData(</span><span class="hljs-function">() =&gt;</span><span> produce(</span><span style="color:#b75501">1</span><span>));
</span><span>    </span><span style="color:#015692">const</span><span> computeString = useRemoteData(</span><span class="hljs-function">() =&gt;</span><span> produce(</span><span style="color:#54790d">&#x27;Hello&#x27;</span><span>));
</span>
<span>    </span><span style="color:#656e77">// combine stores into one, which will produce a tuple with all values once they are available</span><span>
</span><span>    </span><span style="color:#015692">const</span><span> combinedStore: RemoteDataStore&lt;[</span><span style="color:#b75501">number</span><span>, </span><span style="color:#b75501">string</span><span>]&gt; =
</span>      RemoteDataStore.all(computeOne, computeString);

<span>    </span><span style="color:#015692">return</span><span> </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">WithRemoteData</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">store</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#54790d">{combinedStore}</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">            {([num, string]) =&gt; </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">span</span><span class="xml hljs-tag">&gt;</span><span class="xml">{num.toPrecision(1)} and {string.trimLeft()}</span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">span</span><span class="xml hljs-tag">&gt;</span><span class="xml">}
</span><span class="xml">        </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">WithRemoteData</span><span class="xml hljs-tag">&gt;</span><span>;
</span>};

</code></pre></div></div><div><div><h2>Refreshing data</h2><div><div><button>Run</button></div></div><pre style="display:block;overflow-x:auto;padding:0.5em;color:#2f3337;background:#f6f6f6"><code class="language-typescript" style="white-space:pre"><span style="color:#015692">var</span><span> i = </span><span style="color:#b75501">0</span><span>;
</span><span></span><span style="color:#015692">const</span><span> freshData = (): </span><span style="color:#b75501">Promise</span><span>&lt;</span><span style="color:#b75501">number</span><span>&gt; =&gt;
</span><span>    </span><span style="color:#015692">new</span><span> </span><span style="color:#b75501">Promise</span><span>(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">resolve</span><span class="hljs-function">) =&gt;</span><span> {
</span><span>        i += </span><span style="color:#b75501">1</span><span>;
</span><span>        </span><span style="color:#b75501">setTimeout</span><span>(</span><span class="hljs-function">() =&gt;</span><span> resolve(i), </span><span style="color:#b75501">1000</span><span>);
</span>    });

<span></span><span style="color:#015692">export</span><span> </span><span style="color:#015692">const</span><span> Component: React.FC = </span><span class="hljs-function">() =&gt;</span><span> {
</span><span>    </span><span style="color:#015692">const</span><span> store = useRemoteData(freshData, { </span><span style="color:#015692">ttlMillis</span><span>: </span><span style="color:#b75501">2000</span><span> });
</span>
<span>    </span><span style="color:#015692">return</span><span> (
</span><span>        </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">WithRemoteData</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">store</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#54790d">{store}</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">            {(num, isInvalidated) =&gt;
</span><span class="xml">              </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">span</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">style</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#54790d">{{</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">color:</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">isInvalidated</span><span class="xml hljs-tag"> ? &#x27;</span><span class="xml hljs-tag" style="color:#015692">darkgray</span><span class="xml hljs-tag">&#x27; </span><span class="xml hljs-tag" style="color:#015692">:</span><span class="xml hljs-tag"> &#x27;</span><span class="xml hljs-tag" style="color:#015692">black</span><span class="xml hljs-tag">&#x27; }}&gt;</span><span class="xml">{num}</span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">span</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">            }
</span><span class="xml">        </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">WithRemoteData</span><span class="xml hljs-tag">&gt;</span><span>
</span>    );
};

</code></pre></div></div><div><div><h2>Requesting data in child components</h2><div><div><button>Run</button></div></div><pre style="display:block;overflow-x:auto;padding:0.5em;color:#2f3337;background:#f6f6f6"><code class="language-typescript" style="white-space:pre"><span style="color:#015692">export</span><span> </span><span style="color:#015692">const</span><span> Component: React.FC = </span><span class="hljs-function">() =&gt;</span><span> {
</span><span>    </span><span style="color:#015692">const</span><span> store = useRemoteData(freshData, { </span><span style="color:#015692">ttlMillis</span><span>: </span><span style="color:#b75501">2000</span><span> });
</span>
<span>    </span><span style="color:#015692">return</span><span> (
</span><span>        </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">div</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">            </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">Child</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">store</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#54790d">{store}</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">
</span><span class="xml">            </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">Child</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">store</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#54790d">{store}</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">div</span><span class="xml hljs-tag">&gt;</span><span>
</span>    );
};

<span></span><span style="color:#015692">export</span><span> </span><span style="color:#015692">const</span><span> Child: React.FC&lt;{ </span><span style="color:#015692">store</span><span>: RemoteDataStore&lt;</span><span style="color:#b75501">number</span><span>&gt; }&gt; = </span><span class="hljs-function">(</span><span class="hljs-function hljs-params">{ store }</span><span class="hljs-function">) =&gt;</span><span> (
</span><span>    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">WithRemoteData</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">store</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#54790d">{store}</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">        {(num, isInvalidated) =&gt;
</span><span class="xml">          </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">p</span><span class="xml hljs-tag">&gt;</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">span</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">style</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#54790d">{{</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">color:</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">isInvalidated</span><span class="xml hljs-tag"> ? &#x27;</span><span class="xml hljs-tag" style="color:#015692">darkgray</span><span class="xml hljs-tag">&#x27; </span><span class="xml hljs-tag" style="color:#015692">:</span><span class="xml hljs-tag"> &#x27;</span><span class="xml hljs-tag" style="color:#015692">black</span><span class="xml hljs-tag">&#x27; }}&gt;</span><span class="xml">{num}</span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">span</span><span class="xml hljs-tag">&gt;</span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">p</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">        }
</span><span class="xml">    </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">WithRemoteData</span><span class="xml hljs-tag">&gt;</span><span>
</span>);

</code></pre></div></div><div><div><h2>Handling failure</h2><div><div><button>Run</button></div></div><pre style="display:block;overflow-x:auto;padding:0.5em;color:#2f3337;background:#f6f6f6"><code class="language-typescript" style="white-space:pre"><span style="color:#015692">var</span><span> j = </span><span style="color:#b75501">0</span><span>;
</span><span></span><span style="color:#015692">const</span><span> failSometimes = (): </span><span style="color:#b75501">Promise</span><span>&lt;</span><span style="color:#b75501">number</span><span>&gt; =&gt;
</span><span>    </span><span style="color:#015692">new</span><span> </span><span style="color:#b75501">Promise</span><span>(</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">resolve, reject</span><span class="hljs-function">) =&gt;</span><span> {
</span><span>        j += </span><span style="color:#b75501">1</span><span>;
</span><span>        </span><span style="color:#015692">if</span><span> (j % </span><span style="color:#b75501">10</span><span> === </span><span style="color:#b75501">0</span><span>) reject(</span><span style="color:#54790d">`</span><span class="hljs-subst" style="color:#54790d">${j}</span><span style="color:#54790d"> was dividable by 10`</span><span>);
</span><span>        </span><span style="color:#015692">else</span><span> resolve(j);
</span>    });

<span></span><span style="color:#015692">export</span><span> </span><span style="color:#015692">const</span><span> Component: React.FC = </span><span class="hljs-function">() =&gt;</span><span> {
</span><span>    </span><span style="color:#015692">const</span><span> one = useRemoteData(freshData, { </span><span style="color:#015692">ttlMillis</span><span>: </span><span style="color:#b75501">1000</span><span> });
</span><span>    </span><span style="color:#015692">const</span><span> two = useRemoteData(failSometimes, { </span><span style="color:#015692">ttlMillis</span><span>: </span><span style="color:#b75501">100</span><span> });
</span>
<span>    </span><span style="color:#015692">return</span><span> </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">WithRemoteData</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">store</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#54790d">{RemoteDataStore.all(one,</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag" style="color:#015692">two</span><span class="xml hljs-tag">)}&gt;</span><span class="xml">
</span><span class="xml">            {([num1, num2]) =&gt; </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="color:#b75501">span</span><span class="xml hljs-tag">&gt;</span><span class="xml">{num1} - {num2}</span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">span</span><span class="xml hljs-tag">&gt;</span><span class="xml">}
</span><span class="xml">        </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="color:#b75501">WithRemoteData</span><span class="xml hljs-tag">&gt;</span><span>;
</span>};

</code></pre></div></div></main></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/use-remote-data/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/oyvindberg/use-remote-data" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Ã˜yvind Raddum Berg</div></div></div></footer></div>
<script src="/use-remote-data/assets/js/runtime~main.4c566a5b.js"></script>
<script src="/use-remote-data/assets/js/main.ee9f7e7e.js"></script>
</body>
</html>